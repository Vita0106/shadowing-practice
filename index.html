 <!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>å½±å­è·Ÿè¯» Â· å­¦å‘˜é¡µ</title>
<style>
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #fff;
  color: #111;
}

/* ===== Header ===== */
.header {
  padding: 14px;
  border-bottom: 1px solid #eee;
  text-align: center;
  font-weight: 600;
}

/* ===== Cover ===== */
.cover img {
  width: 100%;
  display: block;
}

/* ===== Text Area ===== */
.content {
  padding: 20px;
}

.sentence {
  margin-bottom: 18px;
  cursor: pointer;
}

.sentence.active {
  background: #f2f7ff;
  border-radius: 8px;
  padding: 6px;
}

.cn {
  font-size: 20px;
  line-height: 1.6;
}

.py {
  font-size: 14px;
  color: #f57c00;
  display: none;
}

.tr {
  font-size: 14px;
  color: #666;
  display: none;
}

/* ===== Controls ===== */
.controls {
  position: sticky;
  bottom: 0;
  background: #fff;
  border-top: 1px solid #eee;
  padding: 12px;
  display: flex;
  justify-content: space-around;
  align-items: center;
}

.controls button {
  background: none;
  border: none;
  font-size: 20px;
}

/* ===== Toggles ===== */
.toggles {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  padding: 0 20px;
}

.toggles button {
  font-size: 14px;
}
</style>
</head>

<body>

<div class="header">ITã®ä»•äº‹ã§AIã‚’ä½¿ã†äººãŒæ€¥å¢—</div>

<div class="cover">
  <img src="cover.jpg" alt="cover" />
</div>

<div class="toggles">
  <button onclick="togglePinyin()">æ‹¼éŸ³</button>
  <button onclick="toggleTrans()">ç¿»è¯‘</button>
</div>

<div class="content" id="content"></div>

<div class="controls">
  <button onclick="playAll()">â–¶ï¸</button>
  <button onclick="repeatSentence()">ğŸ”</button>
  <button onclick="startRecord()">ğŸ™</button>
  <button onclick="audio.pause()">â¸</button>
</div>

<audio id="audio" src="audio.mp3"></audio>

<script>
const data = [
  {
    text: "ITçš„å·¥ä½œä¸­ï¼Œä½¿ç”¨AIçš„äººæ­£åœ¨è¿…é€Ÿå¢åŠ ã€‚",
    pinyin: "IT de gÅngzuÃ² zhÅng, shÇyÃ²ng AI de rÃ©n zhÃ¨ngzÃ i xÃ¹nsÃ¹ zÄ“ngjiÄã€‚",
    trans: "åœ¨ITå·¥ä½œä¸­ï¼Œä½¿ç”¨AIçš„äººæ­£åœ¨è¿…é€Ÿå¢åŠ ã€‚",
    start: 0,
    end: 4
  },
  {
    text: "æ ¹æ®è°ƒæŸ¥ï¼Œä½¿ç”¨è¿‡AIçš„äººæ•°æ˜¯å»å¹´çš„1.5å€ã€‚",
    pinyin: "GÄ“njÃ¹ diÃ ochÃ¡, shÇyÃ²ng guÃ² AI de rÃ©nshÃ¹ shÃ¬ qÃ¹niÃ¡n de 1.5 bÃ¨iã€‚",
    trans: "æ ¹æ®è°ƒæŸ¥ï¼Œä½¿ç”¨è¿‡AIçš„äººæ•°æ˜¯å»å¹´çš„1.5å€ã€‚",
    start: 4,
    end: 8
  }
];

const content = document.getElementById("content");
const audio = document.getElementById("audio");
let current = null;

/* Render */
data.forEach((s, i) => {
  const div = document.createElement("div");
  div.className = "sentence";
  div.innerHTML = `
    <div class="cn">${s.text}</div>
    <div class="py">${s.pinyin}</div>
    <div class="tr">${s.trans}</div>
  `;
  div.onclick = () => playSentence(i);
  content.appendChild(div);
});

/* Playback */
function playSentence(i) {
  current = i;
  document.querySelectorAll(".sentence").forEach((el, idx) => {
    el.classList.toggle("active", idx === i);
  });
  audio.currentTime = data[i].start;
  audio.play();
  audio.ontimeupdate = () => {
    if (audio.currentTime >= data[i].end) audio.pause();
  };
}

function playAll() {
  audio.currentTime = 0;
  audio.play();
}

function repeatSentence() {
  if (current !== null) playSentence(current);
}

/* Toggles */
function togglePinyin() {
  document.querySelectorAll(".py").forEach(el => {
    el.style.display = el.style.display === "block" ? "none" : "block";
  });
}

function toggleTrans() {
  document.querySelectorAll(".tr").forEach(el => {
    el.style.display = el.style.display === "block" ? "none" : "block";
  });
}

/* Recording (basic) */
let recorder, chunks = [];
async function startRecord() {
  const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
  recorder = new MediaRecorder(stream);
  recorder.start();
  recorder.ondataavailable = e => chunks.push(e.data);
  recorder.onstop = () => {
    const blob = new Blob(chunks, { type: "audio/webm" });
    chunks = [];
    alert("å½•éŸ³å®Œæˆï¼ˆæœ¬åœ°ï¼‰");
  };
  setTimeout(() => recorder.stop(), 10000); // demo: 10s
}
</script>

</body>
</html>
